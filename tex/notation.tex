% Some common one-letter variables
\newcommand{\A}{\mathcal{A}}
\newcommand{\E}{\mathcal{E}}
\newcommand{\T}{\mathcal{T}}
\newcommand{\X}{\mathcal{X}}
\newcommand{\K}{\mathcal{K}}
\newcommand{\R}{\mathcal{R}}

% Sets of numbers
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\Real}{\mathbb{R}}

\newcommand{\Empty}{\epsilon}

% Domain-specific sets
\newcommand{\BC}{\mathcal{BC}}
\newcommand{\DBC}{\mathcal{DBC}}
\newcommand{\XOR}{\mathcal{XOR}}
\newcommand{\FF}{\mathcal{F}}
\newcommand{\EQ}{\mathcal{E\hspace{-1pt}Q}}
\newcommand{\Prob}{\mathcal{P}}

% Also a set, but typeset bold
\newcommand{\Nonnil}{\mathbf{nonnil}}

% Domain-specific types
\newcommand{\Elt}{\mathrm{Elt}}
\newcommand{\List}{\mathrm{List}}

% Domain-specific function symbols
\newcommand{\Bc}{\mathit{bc}}
\newcommand{\Ff}{\mathit{f}}
\newcommand{\Cons}{\mathit{cons}}
\newcommand{\Nil}{\mathit{nil}}

% These variables require special kerning, because math caligraphic font does
% not kern intelligently.
\newcommand{\Pos}{\mathcal{P}\!\mathit{os}}
\newcommand{\FPos}{\mathcal{FP\!}\mathit{os}}
\newcommand{\Var}{\mathcal{V}\!\mathit{ar}}
\newcommand{\Sig}{\mathcal{S}\hspace{-1pt}\mathit{ig}}

\newcommand{\Terms}{\mathit{T}}
\newcommand{\TermAlg}{\mathcal{T}}

\newcommand{\Sorts}{\mathcal{S}}

\newcommand{\Arity}{\mathit{arity}}
\newcommand{\Root}{\mathit{root}}

% Indicate failure of an algorithm
\newcommand{\Fail}{\mathrm{FAIL}}

% The identity function
\newcommand{\Ident}{\mathrm{id}}

% The unificand pair constructor
\newcommand{\ueq}[1][]{=_{#1}^?}

% Relations for theories and rewrite systems
\newcommand{\To}[2][]{\to^{#1}_{#2}}
\newcommand{\From}[2][]{\leftarrow^{#1}_{#2}}
\newcommand{\ToFrom}[2][]{\leftrightarrow^{#1}_{#2}}
\newcommand{\JoinTo}[1]{\downarrow^{}_{#1}}
\newcommand{\Equals}[2][]{\approx^{#1}_{#2}}

\newcommand{\LessGeneralThan}[1][]{\sqsubseteq_{#1}}
\newcommand{\MoreGeneralThan}[1][]{\sqsupseteq_{#1}}

% Function composition operator
\newcommand{\compcirc}{\circ}

\DeclareMathOperator{\Gr}{\mathit{Gr}}
\DeclareMathOperator{\Mgu}{\mathit{mgu}}

\newcommand{\Reduced}[2][]{#2 \negmedspace\downarrow^{}_{#1}}
\newcommand{\Sub}[2]{{\left.{#1}\right|_{#2}^{}}}

\newcommand{\Inf}[1]{{\mathcal{I}_{#1}}}

\newcommand{\Equiv}[2]{{[#1]}_{#2}}
\newcommand{\Proj}[2]{\succ_{#1, #2}}
\newcommand{\ProjEq}[2]{\sim_{#1, #2}}

\newcommand{\AddFn}{{+}}
\newcommand{\MultFn}{{\times}}

\newcommand{\SubRoot}[1]{{#1}_{\mathrm{root}}}
\newcommand{\SubDep}[1]{{#1}_{\mathrm{dep}}}
\newcommand{\SubProp}[1]{{#1}_{\mathrm{prop}}}

\newcommand{\Graph}{\mathcal{G}}
\newcommand{\RootGraph}{\SubRoot{\Graph}}
\newcommand{\DepGraph}{\SubDep{\Graph}}
\newcommand{\PropGraph}{\SubProp{\Graph}}

\newcommand{\Rule}[1]{\textsf{#1}}

\newcommand{\Oper}[1]{\lstinline|#1|}

\newcommand{\V}[2]{\mathit{#1}\ifstrempty{#2}{}{{:} {#2}}}
\newcommand{\Ve}[1]{\mathit{#1}}
\newcommand{\Vl}[1]{\bar{\mathit{#1}}}

\newcommand{\Iff}{\Leftrightarrow}

\newcommand{\InfRuleLabel}[2]{\Rule{#1}: \emph{#2}:}

\newcommand{\CondInfRule}[5]{%
    \infer[\ifblank{#5}{}{\quad \text{#5}}]%
          {\;\begin{aligned}%
              \ifblank{#3}{#1}{#3} ~ \cup ~ \{ & #4 \}%
          \end{aligned}\;}%
          {\;\begin{aligned}%
              #1 ~ \uplus ~ \{ & #2 \}%
          \end{aligned}\;}%
}

\newcommand{\InfRule}[4]{\CondInfRule{#1}{#2}{#3}{#4}{}}

